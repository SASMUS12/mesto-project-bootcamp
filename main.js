(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e){"Escape"===e.key&&c(document.querySelector(".popup_opened"))}function r(e){var t=document.querySelector(".popup_opened");e.target.closest(".popup__container")||c(t)}e.d({},{Z0:()=>v,y4:()=>f,p4:()=>w,oc:()=>k,pF:()=>_,vi:()=>y,TN:()=>j,EV:()=>m});var n={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__save-button",inactiveButtonClass:"popup__save-button_disabled",inputErrorClass:"popup__input_invalid",errorClass:"popup__input-error_active"};function o(e){document.addEventListener("keydown",t),e.addEventListener("mousedown",r),e.classList.add("popup_opened")}function c(e){document.removeEventListener("keydown",t),e.removeEventListener("mousedown",r),e.classList.remove("popup_opened")}function u(e,t){var r=function(e,t){var r=v.querySelector(".cards__item").cloneNode(!0);return r.querySelector(".cards__text").textContent=e,r.querySelector(".cards__img").alt=e,r.querySelector(".cards__img").src=t,function(e,t,r){r.querySelector(".cards__img").addEventListener("click",(function(){_.textContent=e,y.alt=e,y.src=t,o(f)}))}(e,t,r),function(e){e.querySelector(".cards__delete").addEventListener("click",(function(){e.closest(".cards__item").remove()}))}(r),r}(e,t);m.prepend(r)}function a(e,t,r,n){var o=t.querySelector("#".concat(e.id,"-error"));o.textContent=r,e.classList.add(n.inputErrorClass),o.classList.add(n.errorClass)}function i(e,t,r){var n=t.querySelector("#".concat(e.id,"-error"));n.textContent="",e.classList.remove(r.inputErrorClass),n.classList.remove(r.errorClass)}function s(e,t,r){if(e.validity.valid)return e.onblur=function(){e.setAttribute("data-used","true")},void i(e,t,r);"true"!==e.dataset.used?e.onblur=function(){e.setAttribute("data-used","true"),a(e,t,e.validationMessage,r)}:a(e,t,e.validationMessage,r)}function d(e,t){e.reset(),Array.from(e.querySelectorAll(t.inputSelector)).forEach((function(r){i(r,e,t),r.removeAttribute("data-used")}))}function l(e,t,r){!function(e,t){return Array.from(e.querySelectorAll(t.inputSelector)).some((function(r){return s(r,e,t),!r.validity.valid}))}(e,r)?(t.classList.remove(r.inactiveButtonClass),t.removeAttribute("disabled","")):(t.classList.add(r.inactiveButtonClass),t.setAttribute("disabled",""))}var p,m=document.querySelector(".cards"),v=document.querySelector(".template").content,f=document.querySelector("#bigImage"),y=document.querySelector(".popup__image"),_=document.querySelector(".popup__decription"),S=document.querySelector(".profile__name"),q=document.querySelector(".profile__about"),b=document.querySelector("#myBtn"),L=document.querySelector("#myModal"),k=document.querySelector("#newLocation"),g=document.querySelector("#newLocationBtn"),E=document.querySelectorAll(".popup__close-button"),x=document.querySelector("#formMyModal"),C=x.querySelector("#profileTextTitle"),h=x.querySelector("#profileTextDescription"),A=document.querySelector("#addNewCard"),j=document.querySelector("#cardTextTitle"),w=document.querySelector("#cardImptLink");[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){u(e.name,e.link)})),b.addEventListener("click",(function(){d(L.querySelector(".popup__form"),n),o(L),C.value=S.textContent,h.value=q.textContent})),g.addEventListener("click",(function(){d(k.querySelector(".popup__form"),n),o(k)})),E.forEach((function(e){e.addEventListener("click",(function(){return c(e.closest(".popup_opened"))}))})),m.addEventListener("click",(function(e){e.target.classList.contains("cards__like")&&e.target.classList.toggle("cards__like_active")})),A.addEventListener("submit",(function(e){e.preventDefault(),u(j.value,w.value),c(k),e.target.reset()})),x.addEventListener("submit",(function(e){e.preventDefault(),S.textContent=C.value,q.textContent=h.value,c(L)})),p=n,Array.from(document.querySelectorAll(p.formSelector)).forEach((function(e){e.addEventListener("submit",(function(t){t.preventDefault(),d(e,p);var r=e.querySelector(p.submitButtonSelector);l(e,r,p)})),function(e,t){var r=e.querySelector(t.submitButtonSelector);l(e,r,t),e.addEventListener("input",(function(n){s(n.target,e,t),l(e,r,t)}))}(e,p)}))})();